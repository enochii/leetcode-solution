# 二叉搜索树验证

验证二叉搜索树如果像我一开始只是很傻逼的检查父节点和左右孩子的大小，你就发现炸了，虽然好像能过70个case的样子。设节点的数量为n，这个错误版本的时间复杂度应该是O(n)

事实上你还要保证**左子树所有子孙节点都小于父节点，右子树同理**。

## 用孩子限制父亲

很容易想到，你可以用左子树的最大和右子树的最小来限制当前节点。最蠢的方法就是到一个节点就找到这两个孙子，这样的额外复杂度大概是2 h+4(h-1)+8(h-2)+...，用错位相减法算出来是O(2^h)也就是O(n)啦？看起来很暴力其实...再加上主线的O(n)。

## 用父亲限制孩子

其实一开始有想过把父节点作为值的限制传下去的，苦于脑子不够灵光想着一串祖先节点搞不定...事实上只要对每个节点都有上下限，每次向下搜一步更新限制就行。复杂度是O(n)。

## 总结

上面的两种分别是16/12 ms。还有另一种解法是用中序遍历把所有节点都扔到一个数组里，判断数组是否单调递增即可。